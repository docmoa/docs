<template><div><h1 id="lab-terraform-cloud-á„‹á…§á†«á„€á…§á†¯" tabindex="-1"><a class="header-anchor" href="#lab-terraform-cloud-á„‹á…§á†«á„€á…§á†¯" aria-hidden="true">#</a> ğŸ’» Lab - Terraform Cloud ì—°ê²°</h1>
<h3 id="á„‘á…§á†«á„Œá…µá†¸á„€á…µá„‹á…¦á„‰á…¥-á„‹á…§á†¯á„€á…µ" tabindex="-1"><a class="header-anchor" href="#á„‘á…§á†«á„Œá…µá†¸á„€á…µá„‹á…¦á„‰á…¥-á„‹á…§á†¯á„€á…µ" aria-hidden="true">#</a> í¸ì§‘ê¸°ì—ì„œ ì—´ê¸°</h3>
<figure><img src="@source/03-Public Cloud/NCP/09-Terraform-Workshop/01-intro_to_terraform_on_ncp/image/lab1-02.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>
<ul>
<li>VSCodeë¥¼ ì‹¤í–‰í•˜ê³  File(íŒŒì¼) ë©”ë‰´ì—ì„œ <code v-pre>Open Folder...</code> ë¥¼ í´ë¦­í•©ë‹ˆë‹¤.</li>
<li>ì•ì„œ ì‹¤ìŠµì„ ì§„í–‰í•œ <code v-pre>lab02</code>ì„ ì—´ì–´ì¤ë‹ˆë‹¤.</li>
</ul>
<hr>
<h2 id="â˜ï¸-terraform-configuration" tabindex="-1"><a class="header-anchor" href="#â˜ï¸-terraform-configuration" aria-hidden="true">#</a> â˜ï¸ Terraform Configuration</h2>
<Presentation id="presentation-25" code="eJzjUlZWVghJLSpKTMsvylVwzskvTQGLBaXm5pekKgSXJALJNwsa3sxb+qat53XXFIXXq1a8nrxA4U3TmjezVr6ZN+HN9AmvNvUovF6z5fXinjfzWl93d7zuXqLHBQD6ii38" theme="blood"></Presentation><h3 id="terraform-cloud-á„€á…¨á„Œá…¥á†¼" tabindex="-1"><a class="header-anchor" href="#terraform-cloud-á„€á…¨á„Œá…¥á†¼" aria-hidden="true">#</a> Terraform Cloud ê³„ì •</h3>
<p>Terraform CloudëŠ” ë‹¤ë¥¸ SaaS ì„œë¹„ìŠ¤ì™€ ê°™ì´ ê°œì¸ì„ ìœ„í•œ ë¬´ë£Œ í”Œëœì´ ì¤€ë¹„ë˜ì–´ìˆìŠµë‹ˆë‹¤.</p>
<p>ì•„ì§ ê³„ì •ì´ ì—†ëŠ” ê²½ìš° ê³„ì„±ì„ ìƒì„±í•˜ê³  ë‹¤ìŒ ì‹¤ìŠµì„ ì§„í–‰í•©ë‹ˆë‹¤.</p>
<ol>
<li>ê³„ì • ìƒì„±ì„ ìœ„í•´ <a href="https://app.terraform.io/signup/account" target="_blank" rel="noopener noreferrer">https://app.terraform.io/signup/account<ExternalLinkIcon/></a>ë¡œ ì ‘ì†í•©ë‹ˆë‹¤.</li>
<li>í•„ìš”í•œ ì •ë³´ë¥¼ ì…ë ¥í•˜ê³  í™•ì¸í•˜ì—¬ ì‹ ê·œ ê³„ì •ì„ ìƒì„±í•©ë‹ˆë‹¤. <button style='border-color: #3322de; background-color: #5c4ee5; color: #fff; font-size: 1rem;'>Cretea account</button></li>
<li>ê°€ì…í•œ ì´ë©”ì¼ë¡œ ê³„ì • ìƒì„± í™•ì¸ ë©”ì‹œì§€ê°€ ë„ì°©í•©ë‹ˆë‹¤. ë§í¬ë¥¼ í™•ì¸í•˜ë©´ Terraform Cloudë¥¼ ì‚¬ìš©í•  ì¤€ë¹„ê°€ ëë‚¬ìŠµë‹ˆë‹¤.</li>
</ol>
<h4 id="terraform-cloudá„…á…³á†¯-á„‰á…¥á†¯á„Œá…¥á†¼á„’á…¡á†¸á„‚á…µá„ƒá…¡" tabindex="-1"><a class="header-anchor" href="#terraform-cloudá„…á…³á†¯-á„‰á…¥á†¯á„Œá…¥á†¼á„’á…¡á†¸á„‚á…µá„ƒá…¡" aria-hidden="true">#</a> ğŸ’» Terraform Cloudë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.</h4>
<ol>
<li>
<p>Terraform Cloudì— ë¡œê·¸ì¸í•˜ë©´ <code v-pre>YOURNAME-training</code> ì´ë¼ëŠ” ìƒˆ ì¡°ì§ì„ ë§Œë“­ë‹ˆë‹¤. <code v-pre>YOURNAME</code>ì„ ìì‹ ì˜ ì´ë¦„ì´ë‚˜ ë‹¤ë¥¸ í…ìŠ¤íŠ¸ë¡œ ë°”ê¾¸ì‹­ì‹œì˜¤.</p>
</li>
<li>
<p>ë‹¤ìŒìœ¼ë¡œ Workspaceë¥¼ ìƒì„±í•˜ë¼ëŠ” ë©”ì‹œì§€ê°€ í‘œì‹œë©ë‹ˆë‹¤. <code v-pre>CLI ê¸°ë°˜ ì›Œí¬í”Œë¡œ</code> íŒ¨ë„ì„ í´ë¦­í•˜ì—¬ VCS í†µí•© ë‹¨ê³„ë¥¼ ê±´ë„ˆë›¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>
<img src="@source/03-Public Cloud/NCP/09-Terraform-Workshop/01-intro_to_terraform_on_ncp/image/lab6-01.png" alt="" loading="lazy"></p>
</li>
<li>
<p>ì‘ì—… ê³µê°„ì˜ ì´ë¦„ì„ <code v-pre>hashicat-ncp</code> ë¡œ ì§€ì • í•˜ê³  <code v-pre>Create workspace</code>ë¥¼ í´ë¦­í•˜ì—¬ ìƒˆë¡œìš´ Workspaceë¥¼ ìƒì„±í•©ë‹ˆë‹¤.</p>
</li>
<li>
<p>í„°ë¯¸ë„ì—ì„œ <code v-pre>terraform version</code> ì„ ì‹¤í–‰í•˜ì—¬ ë²„ì „ì„ í™•ì¸í•©ë‹ˆë‹¤.</p>
</li>
<li>
<p>Terraform Cloud ìƒì— ìƒì„±í•œ <code v-pre>hashicat-ncp</code> ì˜ <code v-pre>Settings &gt; General</code> ë¡œ ì´ë™í•˜ì—¬ <code v-pre>Terraform Version</code>ì„ ë™ì¼í•œ ë²„ì „ìœ¼ë¡œ êµ¬ì„±í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  Execution Modeë¥¼ <code v-pre>Local</code>ë¡œ ì„¤ì •í•©ë‹ˆë‹¤.</p>
</li>
</ol>
<Tabs id="82" :data='[]'>
</Tabs>
<ol start="6">
<li><code v-pre>Settings</code> í˜ì´ì§€ í•˜ë‹¨ì— <button style='border-color: #3322de; background-color: #5c4ee5; color: #fff; font-size: 1rem;'>Save settings</button> ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ì €ì¥í•©ë‹ˆë‹¤.</li>
</ol>
<hr>
<h2 id="ğŸ›ï¸-configure-remote-state" tabindex="-1"><a class="header-anchor" href="#ğŸ›ï¸-configure-remote-state" aria-hidden="true">#</a> ğŸ›ï¸ Configure Remote State</h2>
<Presentation id="presentation-98" code="eJyVj79OwlAYxfc+xRe6Wl/C1cn4AkTrBGnS6I7mktS2wzV65Rpbg0mHQliAMgEv1O/cd6Cl/ElIGFhPTs7v/Czbtql16z20Oy1ClJnvd+Jxzp8Jh1907/p++8nzu0g1lYsJxLScr4jnPQS6LtTVD0n4jc3rBGFm+jHSAn2NgSR+y6EE/gKEC44CjrJry3Icx2qgd27Xe3ZPqf8JYSjMjzZKl7OYWGoeFccndNPxXh6pKpSzdX0Ly7yhsgj28UBCVDvbYZajy+FVnlztPBtvpL1zJypViAxDZVQBtSKjDsQNlw3BSw==" theme="blood"></Presentation><p>ì´ë²ˆ ì‹¤ìŠµì—ì„œëŠ” Terraform Cloudë¥¼ Remote State Backendë¡œ êµ¬ì„±í•˜ì—¬ ê¸°ì¡´ State íŒŒì¼ì„ Terraform Cloud í™˜ê²½ìœ¼ë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜ í•©ë‹ˆë‹¤.</p>
<h4 id="remote-backend-á„€á…®á„‰á…¥á†¼á„’á…¡á„€á…µ" tabindex="-1"><a class="header-anchor" href="#remote-backend-á„€á…®á„‰á…¥á†¼á„’á…¡á„€á…µ" aria-hidden="true">#</a> ğŸ’» Remote Backend êµ¬ì„±í•˜ê¸°</h4>
<p>Workspace ë””ë ‰í† ë¦¬ì— (<code v-pre>main.tf</code>ì™€ ê°™ì€ ìœ„ì¹˜) ì•„ë˜ì™€ ê°™ì€ ë‚´ìš©ìœ¼ë¡œ <code v-pre>remote_backend.tf</code> íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤.</p>
<div class="language-hcl line-numbers-mode" data-ext="hcl"><pre v-pre class="language-hcl"><code><span class="token comment"># remote_backend.tf</span>
<span class="token keyword">terraform</span> <span class="token punctuation">{</span>
  <span class="token keyword">backend<span class="token type variable"> "remote" </span></span><span class="token punctuation">{</span>
    <span class="token property">hostname</span> <span class="token punctuation">=</span> <span class="token string">"app.terraform.io"</span>
    <span class="token property">organization</span> <span class="token punctuation">=</span> <span class="token string">"YOURORGANIZATION"</span>
    <span class="token keyword">workspaces</span> <span class="token punctuation">{</span>
      <span class="token property">name</span> <span class="token punctuation">=</span> <span class="token string">"hashicat-ncp"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code v-pre>YOURORGANIZATION</code>ì„ ìƒì„±í•œ Organization ì´ë¦„ìœ¼ë¡œ ìˆ˜ì •í•©ë‹ˆë‹¤.</p>
<p>ì´í›„ í„°ë¯¸ë„ì—ì„œ <code v-pre>terraform login</code> ì„ ì…ë ¥í•©ë‹ˆë‹¤. ë¡œì»¬ í™˜ê²½ì— Terraform Cloudì™€ API ì¸ì¦ì„ ìœ„í•œ Tokenì„ ìƒì„±í•˜ëŠ” ê³¼ì •ì…ë‹ˆë‹¤. <code v-pre>yes</code>ë¥¼ ì…ë ¥í•˜ë©´ Terraform Cloudì˜ í† í° ìƒì„±í™”ë©´ì´ ì—´ë¦½ë‹ˆë‹¤.</p>
<div class="language-bash line-numbers-mode" data-ext="sh"><pre v-pre bash="" class="language-bash"><code>$ terraform login
Terraform will request an API token <span class="token keyword">for</span> app.terraform.io using your browser.
<span class="token punctuation">..</span>.
Do you want to proceed?
  Only <span class="token string">'yes'</span> will be accepted to confirm.

  Enter a value: 
</code></pre><div class="highlight-lines"><div class="highlight-line">&nbsp;</div><br><br><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code v-pre>Create API token</code> í™”ë©´ì´ ë‚˜ì˜¤ë©´ Descriptionì— ì ì ˆí•œ ê°’(ì˜ˆ: ncp workshop)ì„ ì…ë ¥í•œ í›„ <button style='border-color: #3322de; background-color: #5c4ee5; color: #fff; font-size: 1rem;'>Create API token</button> ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ìƒˆë¡œìš´ Tokenì„ ìƒì„±í•©ë‹ˆë‹¤.</p>
<Tabs id="119" :data='[]'>
</Tabs>
<p>ìƒì„±ëœ Tokenì„ ë³µì‚¬í•˜ì—¬ ì•ì„œ í„°ë¯¸ë„ì— ìƒˆë¡œìš´ ì…ë ¥ë€ì¸ <code v-pre>Enter a value: </code> ì— ë¶™ì—¬ë„£ê³  <kbd>â</kbd>(ì—”í„°)ë¥¼ ì…ë ¥í•©ë‹ˆë‹¤. (ì…ë ¥ëœ ê°’ì€ ë³´ì´ì§€ ì•ŠìŠµë‹ˆë‹¤.)</p>
<div class="language-bash line-numbers-mode" data-ext="sh"><pre v-pre class="language-bash"><code><span class="token punctuation">..</span>.
Generate a token using your browser, and copy-paste it into this prompt.

Terraform will store the token <span class="token keyword">in</span> plain text <span class="token keyword">in</span> the following <span class="token function">file</span>
<span class="token keyword">for</span> use by subsequent commands:
    /Users/yourname/.terraform.d/credentials.tfrc.json

Token <span class="token keyword">for</span> app.terraform.io:
  Enter a value: ****************************************** 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>í•´ë‹¹ í† í°ì€ í„°ë¯¸ë„ì— í‘œê¸°ëœ <code v-pre>credentials.tfrc.json</code> íŒŒì¼ì— ì €ì¥ë©ë‹ˆë‹¤.</p>
<p>í„°ë¯¸ë„ì—ì„œ <code v-pre>terraform init</code>ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.</p>
<p>Stateë¥¼ Terraform Cloudë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜í•˜ë¼ëŠ” ë©”ì‹œì§€ê°€ í‘œì‹œë˜ë©´ &quot;yes&quot;ë¥¼ ì…ë ¥í•©ë‹ˆë‹¤.</p>
<p>backendê°€ remoteë¡œ êµ¬ì„±ë¨ì´ ì„±ê³µí•¨ì„ í™•ì¸í•©ë‹ˆë‹¤.</p>
<div class="language-bash line-numbers-mode" data-ext="sh"><pre v-pre bash="" class="language-bash"><code>$ terraform init
<span class="token punctuation">..</span>.
Initializing the backend<span class="token punctuation">..</span>.

Successfully configured the backend <span class="token string">"remote"</span><span class="token operator">!</span> Terraform will automatically
use this backend unless the backend configuration changes.
<span class="token punctuation">..</span>.
</code></pre><div class="highlight-lines"><div class="highlight-line">&nbsp;</div><br><br><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ì´ì œ ìƒíƒœê°€ Terraform Cloudì— ì•ˆì „í•˜ê²Œ ì €ì¥ë©ë‹ˆë‹¤. TFC UIì—ì„œ ì‘ì—… ì˜ì—­ì˜ &quot;State&quot; íƒ­ì—ì„œ ì´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p>ë³€ìˆ˜ë“¤ì„ ë³€ê²½í•˜ë©´ì„œ <code v-pre>terraform apply -auto-approve</code>ë¥¼ ì‹¤í–‰í•˜ê³ , ìƒíƒœ íŒŒì¼ì´ ë¦¬ì†ŒìŠ¤ê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ ë³€ê²½ë˜ëŠ” ê²ƒì„ ì§€ì¼œë³´ì‹­ì‹œì˜¤. Terraform Cloud UIë¥¼ ì‚¬ìš©í•˜ì—¬ ì´ì „ ìƒíƒœ íŒŒì¼ì„ íƒìƒ‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<figure><img src="@source/03-Public Cloud/NCP/09-Terraform-Workshop/01-intro_to_terraform_on_ncp/image/lab6-06.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>
<hr>
<h2 id="ğŸ”¥-terraform-destroy" tabindex="-1"><a class="header-anchor" href="#ğŸ”¥-terraform-destroy" aria-hidden="true">#</a> ğŸ”¥ Terraform Destroy</h2>
<Presentation id="presentation-154" code="eJxVzU8KgkAcxfH9nOKHrvU0XSDIdiFMbtr1x4XpLJVEmAgqIpiVaLiYLjTz5g5l0MLlg8f3w3zfp1nE+XwZ8xXkliAHV6ZWanvXZHqFV+Wq2uYlmfZgH8LtNOH4Nq2YXp0QputcdSFkNeGcIe9tkdniFjIWBAH7UV7yt2gRrRMeb7wxjauGrL8OToqwV2ie40gHNGXIPvPJW7w=" theme="blood"></Presentation><h4 id="á„…á…µá„‰á…©á„‰á…³-á„‰á…¡á†¨á„Œá…¦á„’á…¡á„€á…µ" tabindex="-1"><a class="header-anchor" href="#á„…á…µá„‰á…©á„‰á…³-á„‰á…¡á†¨á„Œá…¦á„’á…¡á„€á…µ" aria-hidden="true">#</a> ğŸ’» ë¦¬ì†ŒìŠ¤ ì‚­ì œí•˜ê¸°</h4>
<p>ë‹¤ìŒ ëª…ë ¹ì„ ì‹¤í–‰í•˜ì—¬ ì¸í”„ë¼ë¥¼ ì‚­ì œí•˜ì„¸ìš”.</p>
<div class="language-bash line-numbers-mode" data-ext="sh"><pre v-pre class="language-bash"><code>terraform destroy
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ì¸í”„ë¼ë¥¼ ì‚­ì œí•œë‹¤ëŠ” ë©”ì‹œì§€ê°€ í‘œì‹œë˜ë©´ &quot;yes&quot;ë¥¼ ì…ë ¥í•´ì•¼ í•©ë‹ˆë‹¤. ì¤‘ìš”í•œ ë¦¬ì†ŒìŠ¤ê°€ ì‹¤ìˆ˜ë¡œ ì‚­ì œë˜ëŠ” ê²ƒì„ ë°©ì§€í•˜ê¸° ìœ„í•œ ì•ˆì „ ê¸°ëŠ¥ì…ë‹ˆë‹¤.</p>
<p>í™•ì¸ ë²„íŠ¼ì„ í´ë¦­í•˜ê¸° ì „ì— ë¦¬ì†ŒìŠ¤ ì‚­ì œ ì‘ì—…ì´ ì™„ì „íˆ ëë‚  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ì‹­ì‹œì˜¤.</p>
<hr>
<figure><img src="@source/03-Public Cloud/NCP/09-Terraform-Workshop/01-intro_to_terraform_on_ncp/image/intro-to-terraform-on-ncp-2.png" alt="Intro" tabindex="0" loading="lazy"><figcaption>Intro</figcaption></figure>
</div></template>


