<template><div><h1 id="_02-á„á…¦á„…á…¡á„‘á…©á†·-á„€á…µá„‡á…©á†«" tabindex="-1"><a class="header-anchor" href="#_02-á„á…¦á„…á…¡á„‘á…©á†·-á„€á…µá„‡á…©á†«" aria-hidden="true">#</a> 02. í…Œë¼í¼ ê¸°ë³¸</h1>
<h2 id="terraform-á„‹á…µá„…á…¡á†«" tabindex="-1"><a class="header-anchor" href="#terraform-á„‹á…µá„…á…¡á†«" aria-hidden="true">#</a> Terraform ì´ë€?</h2>
<figure><img src="@source/03-Public Cloud/NCP/09-Terraform-Workshop/01-intro_to_terraform_on_ncp/image/Terraform_Logo.png" alt="logo" tabindex="0" loading="lazy"><figcaption>logo</figcaption></figure>
<ul>
<li>
<p>Terraformì€ ì˜¤í”ˆ ì†ŒìŠ¤ í”„ë¡œë¹„ì €ë‹ ë„êµ¬ì…ë‹ˆë‹¤.</p>
<ul>
<li>Terraform Github : <a href="https://github.com/hashicorp/terraform" target="_blank" rel="noopener noreferrer">https://github.com/hashicorp/terraform<ExternalLinkIcon/></a></li>
</ul>
</li>
<li>
<p>Goë¡œ ì‘ì„±ëœ ë‹¨ì¼ ë°”ì´ë„ˆë¦¬ë¡œ ì œê³µë©ë‹ˆë‹¤. Terraformì€ í¬ë¡œìŠ¤ í”Œë«í¼ì´ë©° Linux, Windows ë˜ëŠ” MacOSì—ì„œ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
</li>
<li>
<p>terraform ì„¤ì¹˜ëŠ” ì‰½ìŠµë‹ˆë‹¤. zip íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œí•˜ê³  ì••ì¶•ì„ í’€ê³  ì‹¤í–‰í•˜ê¸° ë§Œí•˜ë©´ë©ë‹ˆë‹¤.</p>
<ul>
<li>ë‹¤ìš´ë¡œë“œ : <a href="https://www.terraform.io/downloads.html" target="_blank" rel="noopener noreferrer">https://www.terraform.io/downloads.html<ExternalLinkIcon/></a></li>
</ul>
</li>
</ul>
<h2 id="terraform-command-line" tabindex="-1"><a class="header-anchor" href="#terraform-command-line" aria-hidden="true">#</a> Terraform Command Line</h2>
<ul>
<li>
<p>ê¸°ë³¸ì ìœ¼ë¡œ Terraform ì˜¤í”ˆì†ŒìŠ¤ëŠ” ì»¤ë§¨ë“œë¼ì¸ ë„êµ¬ì…ë‹ˆë‹¤.</p>
</li>
<li>
<p>Terraform ëª…ë ¹ì€ ìˆ˜ë™ìœ¼ë¡œ ì…ë ¥í•˜ê±°ë‚˜ ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ìë™ìœ¼ë¡œ ì‹¤í–‰ë©ë‹ˆë‹¤.</p>
</li>
<li>
<p>ëª…ë ¹ì€ Linux, Windows ë˜ëŠ” MacOSì— ìƒê´€ì—†ì´ ë™ì¼í•©ë‹ˆë‹¤.</p>
</li>
<li>
<p>Terraformì—ëŠ” ë‹¤ë¥¸ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” í•˜ìœ„ ëª…ë ¹ë“¤ì´ ìˆìŠµë‹ˆë‹¤.</p>
</li>
</ul>
<div class="language-bash line-numbers-mode" data-ext="sh"><pre v-pre class="language-bash"><code><span class="token comment"># Basic Terraform Commands</span>
terraform version
terraform <span class="token builtin class-name">help</span>
terraform init
terraform plan
terraform apply
terraform destroy
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="terraform-help" tabindex="-1"><a class="header-anchor" href="#terraform-help" aria-hidden="true">#</a> Terraform Help</h2>
<div class="language-bash line-numbers-mode" data-ext="sh"><pre v-pre bash="" class="language-bash"><code>$ terraform <span class="token builtin class-name">help</span>
Usage: terraform <span class="token punctuation">[</span>-version<span class="token punctuation">]</span> <span class="token punctuation">[</span>-help<span class="token punctuation">]</span> <span class="token operator">&lt;</span>command<span class="token operator">></span> <span class="token punctuation">[</span>args<span class="token punctuation">]</span>
<span class="token punctuation">..</span>.
Common commands:
    apply              Builds or changes infrastructure
    console            Interactive console <span class="token keyword">for</span> Terraform interpolations
    destroy            Destroy Terraform-managed infrastructure
    <span class="token function">env</span>                Workspace management
    <span class="token function">fmt</span>                Rewrites config files to canonical <span class="token function">format</span>
    graph              Create a visual graph of Terraform resources
</code></pre><div class="highlight-lines"><div class="highlight-line">&nbsp;</div><br><br><br><br><br><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>íŠ¹ì • í•˜ìœ„ ëª…ë ¹ì— ëŒ€í•œ ë„ì›€ë§ì„ ë³´ë ¤ë©´ <code v-pre>terraform &lt;subcommand&gt; help</code> ë¥¼ ì…ë ¥í•©ë‹ˆë‹¤.</p>
<h2 id="terraform-code" tabindex="-1"><a class="header-anchor" href="#terraform-code" aria-hidden="true">#</a> Terraform Code</h2>
<div class="language-hcl line-numbers-mode" data-ext="hcl"><pre v-pre class="language-hcl"><code><span class="token keyword">resource <span class="token type variable">"ncloud_vpc"</span></span> <span class="token string">"vpc"</span> <span class="token punctuation">{</span>
    <span class="token property">ipv4_cidr_block</span> <span class="token punctuation">=</span> <span class="token string">"10.0.0.0/16"</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Terraform ì½”ë“œëŠ” <a href="https://github.com/hashicorp/hcl" target="_blank" rel="noopener noreferrer">HCL2 íˆ´í‚·<ExternalLinkIcon/></a>ì„ ê¸°ë°˜ìœ¼ë¡œí•©ë‹ˆë‹¤. HCLì€ HashiCorp Configuration Languageë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.</p>
<p>Terraform ì½”ë“œëŠ” ëª¨ë“  í´ë¼ìš°ë“œ ë˜ëŠ” í”Œë«í¼ì—ì„œ ì¸í”„ë¼ë¥¼ í”„ë¡œë¹„ì €ë‹í•˜ê¸° ìœ„í•´ íŠ¹ë³„íˆ ì„¤ê³„ëœ ì„ ì–¸ì  ì–¸ì–´ì…ë‹ˆë‹¤.</p>
<h2 id="terraform-comments" tabindex="-1"><a class="header-anchor" href="#terraform-comments" aria-hidden="true">#</a> Terraform Comments</h2>
<p>ì¤„ ì£¼ì„ì€ <code v-pre>*</code>(octothorpe, ë³„í‘œ) ë˜ëŠ” <code v-pre>#</code>(íŒŒìš´ë“œ) ê¸°í˜¸ë¡œ ì‹œì‘í•©ë‹ˆë‹¤....<mark>ìƒµ! #</mark></p>
<div class="language-hcl line-numbers-mode" data-ext="hcl"><pre v-pre class="language-hcl"><code><span class="token comment"># This is a line comment.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ë¸”ë¡ ì£¼ì„ì€ <code v-pre>/*</code>ì™€ <code v-pre>*/</code> ê¸°í˜¸ ì‚¬ì´ì— í¬í•¨ë©ë‹ˆë‹¤.</p>
<div class="language-hcl line-numbers-mode" data-ext="hcl"><pre v-pre class="language-hcl"><code><span class="token comment">/* This is a block comment.
Block comments can span multiple lines.
The comment ends with this symbol: */</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="terraform-workspaces" tabindex="-1"><a class="header-anchor" href="#terraform-workspaces" aria-hidden="true">#</a> Terraform Workspaces</h2>
<p>WorkspaceëŠ” Terraform ì½”ë“œê°€ í¬í•¨ ëœ í´ë” ë˜ëŠ” ë””ë ‰í† ë¦¬ì…ë‹ˆë‹¤.</p>
<p>Terraform íŒŒì¼ì€ í•­ìƒ* .tf ë˜ëŠ”* .tfvars í™•ì¥ìë¡œ ëë‚©ë‹ˆë‹¤. ì‹¤í–‰ ì‹œ í•´ë‹¹ íŒŒì¼ë“¤ì€ í•˜ë‚˜ë¡œ ë™ì‘í•©ë‹ˆë‹¤.</p>
<p>ëŒ€ë¶€ë¶„ì˜ Terraform Workspacesì—ëŠ” ì¼ë°˜ì ìœ¼ë¡œ ì•„ë˜ 3ê°œì •ë„ì˜ íŒŒì¼ì„ ë‘¡ë‹ˆë‹¤. (ì •í•´ì§„ê±´ ì•„ë‹™ë‹ˆë‹¤.)</p>
<ul>
<li><a href="http://main.tf" target="_blank" rel="noopener noreferrer">main.tf<ExternalLinkIcon/></a> - ëŒ€ë¶€ë¶„ì˜ ê¸°ëŠ¥ ì½”ë“œëŠ” ì—¬ê¸°ì— ìˆìŠµë‹ˆë‹¤.</li>
<li><a href="http://variables.tf" target="_blank" rel="noopener noreferrer">variables.tf<ExternalLinkIcon/></a> - ì´ íŒŒì¼ì€ ë³€ìˆ˜ë¥¼ ì €ì¥í•˜ê¸°ìœ„í•œ ê²ƒì…ë‹ˆë‹¤.</li>
<li><a href="http://outputs.tf" target="_blank" rel="noopener noreferrer">outputs.tf<ExternalLinkIcon/></a> - í…Œë¼ í¼ ì‹¤í–‰ í›„ í‘œì‹œë˜ëŠ” ë‚´ìš©ì„ ì •ì˜í•©ë‹ˆë‹¤.</li>
</ul>
<h2 id="terraform-init" tabindex="-1"><a class="header-anchor" href="#terraform-init" aria-hidden="true">#</a> Terraform Init</h2>
<div class="language-hcl line-numbers-mode" data-ext="hcl"><pre v-pre hcl="" class="language-hcl"><code>$ terraform init
Initializing the backend...

Initializing provider plugins...
- Finding navercloudplatform/ncloud versions matching <span class="token string">">= 2.1.2"</span>...
- Installing navercloudplatform/ncloud v2.<span class="token number">1.2</span>...
- Installed navercloudplatform/ncloud v2.<span class="token number">1.2</span> (signed by a HashiCorp partner, key ID <span class="token number">9</span>DCE24305722E9C9)
...
Terraform has been successfully initialized!
</code></pre><div class="highlight-lines"><div class="highlight-line">&nbsp;</div><br><br><br><br><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Terraformì€ í•„ìš”í•œ Provider(ê³µê¸‰ì)ì™€ Module(ëª¨ë“ˆ)ì„ ê°€ì ¸ì™€ <code v-pre>.terraform</code> ë””ë ‰í„°ë¦¬ì— ì €ì¥í•©ë‹ˆë‹¤. ëª¨ë“ˆ ë˜ëŠ” ê³µê¸‰ìë¥¼ ì¶”ê°€, ë³€ê²½ ë˜ëŠ” ì—…ë°ì´íŠ¸í•˜ëŠ” ê²½ìš° initë¥¼ ë‹¤ì‹œ ì‹¤í–‰í•´ì•¼í•©ë‹ˆë‹¤.</p>
<h2 id="terraform-plan" tabindex="-1"><a class="header-anchor" href="#terraform-plan" aria-hidden="true">#</a> Terraform Plan</h2>
<div class="language-bash line-numbers-mode" data-ext="sh"><pre v-pre bash="" class="language-bash"><code>$ terraform plan
<span class="token punctuation">..</span>.
Terraform will perform the following actions:

  <span class="token comment"># ncloud_vpc.vpc will be created</span>
  + resource <span class="token string">"ncloud_vpc"</span> <span class="token string">"vpc"</span> <span class="token punctuation">{</span>
      + default_access_control_group_no <span class="token operator">=</span> <span class="token punctuation">(</span>known after apply<span class="token punctuation">)</span>
      + default_network_acl_no          <span class="token operator">=</span> <span class="token punctuation">(</span>known after apply<span class="token punctuation">)</span>
      + default_private_route_table_no  <span class="token operator">=</span> <span class="token punctuation">(</span>known after apply<span class="token punctuation">)</span>
      + default_public_route_table_no   <span class="token operator">=</span> <span class="token punctuation">(</span>known after apply<span class="token punctuation">)</span>
      + <span class="token function">id</span>                              <span class="token operator">=</span> <span class="token punctuation">(</span>known after apply<span class="token punctuation">)</span>
      + ipv4_cidr_block                 <span class="token operator">=</span> <span class="token string">"10.0.0.0/16"</span>
      + name                            <span class="token operator">=</span> <span class="token punctuation">(</span>known after apply<span class="token punctuation">)</span>
      + vpc_no                          <span class="token operator">=</span> <span class="token punctuation">(</span>known after apply<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

Plan: <span class="token number">1</span> to add, <span class="token number">0</span> to change, <span class="token number">0</span> to destroy.
</code></pre><div class="highlight-lines"><div class="highlight-line">&nbsp;</div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ë³€ê²½ ì‚¬í•­ì„ ì ìš©í•˜ê¸° ì „ì— <code v-pre>terraform plan</code> ìœ¼ë¡œ ë¯¸ë¦¬ êµ¬ì„±ì˜ ë³€ê²½ì„ ì‚´í´ë´…ë‹ˆë‹¤.</p>
<h2 id="á„‡á…§á†«á„‰á…®á„‚á…³á†«-á„‹á…¥á„ƒá…µá„‹á…¦" tabindex="-1"><a class="header-anchor" href="#á„‡á…§á†«á„‰á…®á„‚á…³á†«-á„‹á…¥á„ƒá…µá„‹á…¦" aria-hidden="true">#</a> ë³€ìˆ˜ëŠ” ì–´ë””ì—?</h2>
<p>Terraform ë³€ìˆ˜ëŠ” <code v-pre>variables.tf</code>ë¼ëŠ” íŒŒì¼ì— ì¼ë°˜ì ìœ¼ë¡œ ìœ„ì¹˜ ì‹œí‚µë‹ˆë‹¤.(ì´ë¦„ì€ ë³€ê²½ ê°€ëŠ¥) ë³€ìˆ˜ëŠ” ê¸°ë³¸ ì„¤ì •ì„ ê°€ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê¸°ë³¸ê°’ì„ ìƒëµí•˜ë©´ ì‚¬ìš©ìì—ê²Œ ê°’ì„ ì…ë ¥í•˜ë¼ëŠ” ë©”ì‹œì§€ê°€ í‘œì‹œë©ë‹ˆë‹¤. ì—¬ê¸°ì„œ ìš°ë¦¬ëŠ” ì‚¬ìš©í•˜ë ¤ëŠ” ë³€ìˆ˜ë¥¼ <mark>ì„ ì–¸</mark> í•©ë‹ˆë‹¤.</p>
<div class="language-hcl line-numbers-mode" data-ext="hcl"><pre v-pre class="language-hcl"><code><span class="token keyword">variable<span class="token type variable"> "prefix" </span></span><span class="token punctuation">{</span>
  <span class="token property">description</span> <span class="token punctuation">=</span> <span class="token string">"This prefix will be included in the name of most resources."</span>
<span class="token punctuation">}</span>

<span class="token keyword">variable<span class="token type variable"> "vpc_cidr" </span></span><span class="token punctuation">{</span>
  <span class="token property">description</span> <span class="token punctuation">=</span> <span class="token string">"A cidr option for instances into the VPC."</span>
  <span class="token property">default</span>     <span class="token punctuation">=</span> <span class="token string">"10.0.0.0/16"</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="á„‡á…§á†«á„‰á…®á„‹á…¦-á„€á…¡á†¹á„‹á…³á†¯-á„’á…¡á†¯á„ƒá…¡á†¼á„’á…¡á„‚á…³á†«-á„‡á…¡á†¼á„‰á…µá†¨á„€á…ª-á„‹á…®á„‰á…¥á†«á„‰á…®á†«á„‹á…±" tabindex="-1"><a class="header-anchor" href="#á„‡á…§á†«á„‰á…®á„‹á…¦-á„€á…¡á†¹á„‹á…³á†¯-á„’á…¡á†¯á„ƒá…¡á†¼á„’á…¡á„‚á…³á†«-á„‡á…¡á†¼á„‰á…µá†¨á„€á…ª-á„‹á…®á„‰á…¥á†«á„‰á…®á†«á„‹á…±" aria-hidden="true">#</a> ë³€ìˆ˜ì— ê°’ì„ í• ë‹¹í•˜ëŠ” ë°©ì‹ê³¼ ìš°ì„ ìˆœìœ„</h2>
<p>ì¼ë¶€ ë³€ìˆ˜ë¥¼ ì •ì˜í•œ í›„ì—ëŠ” ë‹¤ë¥¸ ë°©ë²•ìœ¼ë¡œ ì„¤ì •í•˜ê³  ì¬ì •ì˜ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¤ìŒì€ ê° ë°©ë²•ì˜ ìš°ì„  ìˆœìœ„ì…ë‹ˆë‹¤.</p>
<p>ì´ ëª©ë¡ì€ ê°€ì¥ ë†’ì€ ìš°ì„  ìˆœìœ„ (1)ì—ì„œ ê°€ì¥ ë‚®ì€ ìˆœìœ„ (5)ë¡œ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.</p>
<p>ì¦‰, CLI ì‹¤í–‰ì‹œ <code v-pre>-var</code> ë¡œ ì§€ì •ë˜ëŠ” <code v-pre>Command line flag</code>ê°€ ê°€ì¥ ìš°ì„ í•©ë‹ˆë‹¤.</p>
<ol>
<li>Command line flag - ëª…ë ¹ ì¤„ ìŠ¤ìœ„ì¹˜ë¡œ ì‹¤í–‰</li>
<li>Configuration file - terraform.tfvars íŒŒì¼ì— ì„¤ì •</li>
<li>Environment variable - ì‰˜ í™˜ê²½ì˜ ì¼ë¶€</li>
<li>Default Config - variables.tfì˜ ê¸°ë³¸ê°’</li>
<li>User manual entry - ì§€ì •ë˜ì§€ ì•Šì€ ê²½ìš° ì‚¬ìš©ìì—ê²Œ ì…ë ¥ì„ ìš”ì²­í•©ë‹ˆë‹¤.</li>
</ol>
<hr>
<p>ì‹¤ìŠµì„ ìœ„í•´ ë‹¤ìŒì¥ìœ¼ë¡œ ì´ë™í•˜ì„¸ìš”.</p>
<p><RouterLink to="/03-Public%20Cloud/NCP/09-Terraform-Workshop/01-intro_to_terraform_on_ncp/02-z-lab_terraform_basic.html">ğŸ’» Lab - Setup and Basic Usage</RouterLink></p>
</div></template>


